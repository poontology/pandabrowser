!function(e){function a(a){for(var n,l,o=a[0],s=a[1],m=a[2],u=0,d=[];u<o.length;u++)l=o[u],Object.prototype.hasOwnProperty.call(c,l)&&c[l]&&d.push(c[l][0]),c[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(i&&i(a);d.length;)d.shift()();return r.push.apply(r,m||[]),t()}function t(){for(var e,a=0;a<r.length;a++){for(var t=r[a],n=!0,o=1;o<t.length;o++){var s=t[o];0!==c[s]&&(n=!1)}n&&(r.splice(a--,1),e=l(l.s=t[0]))}return e}var n={},c={0:0},r=[];function l(a){if(n[a])return n[a].exports;var t=n[a]={i:a,l:!1,exports:{}};return e[a].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=n,l.d=function(e,a,t){l.o(e,a)||Object.defineProperty(e,a,{enumerable:!0,get:t})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,a){if(1&a&&(e=l(e)),8&a)return e;if(4&a&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&a&&"string"!=typeof e)for(var n in e)l.d(t,n,function(a){return e[a]}.bind(null,n));return t},l.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(a,"a",a),a},l.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)},l.p="/";var o=window.webpackJsonp=window.webpackJsonp||[],s=o.push.bind(o);o.push=a,o=o.slice();for(var m=0;m<o.length;m++)a(o[m]);var i=s;r.push([195,1]),t()}({101:function(e,a,t){e.exports={star:"_3nDexP2V",full:"_2pLWSHt1",half:"LTXbD3m3"}},102:function(e,a,t){e.exports={container:"_34dVbr5A",outer:"_3bSwy8oz",content:"_27su4Zj_"}},103:function(e,a,t){e.exports={container:"_2SKsULxg",loading:"_3DEX7sOp",item:"_1IxWeOgx"}},11:function(e,a,t){e.exports={container:"_2ij_qKOV",category:"_9334G8pj",item:"_19XdIk3S",checkbox:"_1ASBBxob",name:"_13IVoRK_",search:"_3uJ9Bks1",input:"_12rd_aeG",button:"_3QP0rwgA",advance:"_36usUk4W",advanceItem:"_3sz3mYjU",select:"_1xAlNiHx",inputNumber:"_16scLqOi",date:"_2biGlKsH",toggle:"_6rtk_FEo"}},134:function(e,a,t){e.exports={table:"_37EqdUbY",thead:"_1MtS1meH"}},137:function(e,a,t){e.exports={container:"_1SoVcTVT",total:"_1LLqocFh"}},195:function(e,a,t){e.exports=t(410)},3:function(e,a,t){e.exports={container:"_3-9VQfqo",coverWrap:"hhPx3rv5",cover:"W4DvY4tL",meta:"_12jj0_4S",metaSingleItem:"_3ZH36c3b",metaItem:"_1ta_wKV8",metaLabel:"_2OraVs29",metaValue:"_34Tw5ZWy",category:"_2c5_uep9 _13IVoRK_",main:"_3e3VgX4r",header:"_1h0HBybM",title:"_2YCabwxv",subtitle:"_2h0e6HjR",tags:"_2y-UWAeb",tagLine:"jKUT37sn",tagType:"_2iai6FUT",tagList:"Z9AyIeNx",torrentLink:"_1OEZ7m0n"}},410:function(e,a,t){"use strict";t.r(a);t(196),t(393);var n=t(0),c=t.n(n),r=t(190),l=t.n(r),o=t(132),s=t(47),m=(t(138),t(152),t(153),t(191)),i=t.n(m),u=t(14),d=t.n(u),p=(t(96),t(123),t(75),t(175),t(76),t(164),t(155),t(131),t(167),t(122),t(86),t(114),t(53),t(133)),f=t.n(p),v=(t(54),t(85),[{name:"Doujinshi",value:2,color:"#9e2720"},{name:"Manga",value:4,color:"#db6c24"},{name:"Artist CG",value:8,color:"#d38f1d"},{name:"Game CG",value:16,color:"#617c63"},{name:"Western",value:512,color:"#ab9f60"},{name:"Non-H",value:256,color:"#5fa9cf"},{name:"Image Set",value:32,color:"#325ca2"},{name:"Cosplay",value:64,color:"#6a32a2"},{name:"Asian Porn",value:128,color:"#a23282"},{name:"Misc",value:1,color:"#777777"},{name:"private",value:1024,color:"#000000",visible:!1}]),g=v.reduce((function(e,a){return e[a.name]=a,e}),{}),h=v,E=t(11),b=t.n(E),y=t(40),N=t.n(y),_=function(e){var a=e.options,t=e.onSearch,r=Object(n.useState)(+a.category||1023),l=d()(r,2),o=l[0],s=l[1],m=Object(n.useState)(a.keyword||""),i=d()(m,2),u=i[0],p=i[1],f=Object(n.useState)(+a.expunged||0),v=d()(f,2),g=v[0],E=v[1],y=Object(n.useState)(+a.replaced||0),_=d()(y,2),O=_[0],k=_[1],j=Object(n.useState)(+a.removed||0),S=d()(j,2),x=S[0],w=S[1],I=Object(n.useState)(a.minpage||""),C=d()(I,2),M=C[0],L=C[1],P=Object(n.useState)(a.maxpage||""),V=d()(P,2),D=V[0],Y=V[1],A=Object(n.useState)(a.minrating||""),H=d()(A,2),T=H[0],R=H[1],K=Object(n.useState)(a.limit||10),B=d()(K,2),F=B[0],U=B[1],W=Object(n.useState)(a.mindate||""),G=d()(W,2),q=G[0],$=G[1],z=Object(n.useState)(a.maxdate||""),Z=d()(z,2),J=Z[0],X=Z[1],Q=Object(n.useState)(+a.advance||0),ee=d()(Q,2),ae=ee[0],te=ee[1],ne=function(e){var a=+e.target.value;s(o+(e.target.checked?a:-a))};return Object(n.useEffect)((function(){s(+a.category||1023),p(a.keyword||""),E(+a.expunged||0),k(+a.replaced||0),w(+a.removed||0),L(a.minpage||""),Y(a.maxpage||""),R(a.minrating||""),U(a.limit||10),$(a.mindate||""),X(a.maxdate||""),te(+a.advance||0)}),[a]),c.a.createElement("form",{className:b.a.container,onSubmit:function(e){e.preventDefault(),t&&t({category:o,keyword:u,expunged:g,replaced:O,removed:x,minpage:M,maxpage:D,minrating:T,limit:F,mindate:q,maxdate:J,advance:+ae})}},c.a.createElement("div",{className:b.a.category},h.filter((function(e){return!1!==e.visible})).map((function(e){return c.a.createElement("label",{key:e.value,className:b.a.item},c.a.createElement("input",{type:"checkbox",checked:o&e.value,value:e.value,onChange:ne,className:b.a.checkbox}),c.a.createElement("span",{className:b.a.name,style:{background:e.color}},e.name))}))),c.a.createElement("div",{className:b.a.search},c.a.createElement("input",{value:u,onInput:function(e){p(e.target.value)},className:b.a.input}),c.a.createElement("button",{className:b.a.button},"Search")),c.a.createElement("div",{className:b.a.toggle},c.a.createElement("a",{onClick:function(){te(!ae)}},ae?"Hide Advanced Options":"Show Advanced Options")),ae?c.a.createElement("div",{className:b.a.advance},c.a.createElement("label",{className:b.a.advanceItem},c.a.createElement("input",{type:"checkbox",checked:g,onChange:function(e){E(+e.target.checked)}}),"Show Expunged"),c.a.createElement("label",{className:b.a.advanceItem},c.a.createElement("input",{type:"checkbox",checked:x,onChange:function(e){w(+e.target.checked)}}),"Show Removed"),c.a.createElement("label",{className:b.a.advanceItem},c.a.createElement("input",{type:"checkbox",checked:O,onChange:function(e){k(+e.target.checked)}}),"Show Replaced"),c.a.createElement("label",{className:b.a.advanceItem},"Show",c.a.createElement("select",{value:F,onChange:function(e){U(+e.target.value)},className:b.a.select},new Array(5).fill("").map((function(e,a){return c.a.createElement("option",{value:5*(a+1),key:a},5*(a+1))}))),"galleries per page"),c.a.createElement("label",{className:b.a.advanceItem},"Minimum Rating",c.a.createElement("select",{value:T,onChange:function(e){R(+e.target.value)},className:b.a.select},new Array(5).fill("").map((function(e,a){return c.a.createElement("option",{value:a+1,key:a},a+1)})))),c.a.createElement("label",{className:b.a.advanceItem},"Between",c.a.createElement("input",{type:"number",className:b.a.inputNumber,value:M,onChange:function(e){L(+e.target.value)}}),"and",c.a.createElement("input",{type:"number",className:b.a.inputNumber,value:D,onChange:function(e){Y(+e.target.value)}}),"pages"),c.a.createElement("label",{className:b.a.advanceItem},"Post after",c.a.createElement("input",{type:"datetime-local",className:b.a.date,value:q?N()(1e3*q).format("YYYY-MM-DDTHH:mm"):"",onChange:function(e){$(Math.floor(N()(e.target.value).valueOf()/1e3))}})),c.a.createElement("label",{className:b.a.advanceItem},"Post before",c.a.createElement("input",{type:"datetime-local",className:b.a.date,value:J?N()(1e3*J).format("YYYY-MM-DDTHH:mm"):"",onChange:function(e){X(Math.floor(N()(e.target.value).valueOf()/1e3))}}))):null)};_.defaultProps={options:{}};var O=_,k=t(100),j=t.n(k),S=(t(124),t(163),t(149),t(172),function(e){for(var a=["B","KB","MB","GB","TB"],t=e;t>=1024;)t/=1024,a.shift();return"".concat(t.toFixed(2)," ").concat(a[0])}),x=t(3),w=t.n(x),I=t(101),C=t.n(I),M=function(e){var a=e.half,t=void 0!==a&&a,n=e.full,r=void 0!==n&&n;return c.a.createElement("span",{className:"".concat(C.a.star," ").concat(t?C.a.half:r?C.a.full:"").trim()})},L=function(e){var a=e.value,t=+(void 0===a?0:a)+1;return new Array(5).fill("").map((function(){return(t-=1)<.25?{}:t<.75?{half:!0}:{full:!0}})).map((function(e,a){return c.a.createElement(M,j()({key:a},e))}))},P=document.createElement("textarea"),V=function(e){return P.innerHTML=e,P.value},D=t(102),Y=t.n(D),A=function(e){var a=e.visible,t=e.onClose,n=e.children;return a?c.a.createElement("div",{className:Y.a.container},c.a.createElement("div",{className:Y.a.outer,onClick:t}),c.a.createElement("div",{className:Y.a.content},n)):null},H=t(134),T=t.n(H),R=function(e){var a=e.torrents,t=e.gid;return c.a.createElement("table",{className:T.a.table},c.a.createElement("colgroup",null,c.a.createElement("col",{style:{width:"90px"}}),c.a.createElement("col",null),c.a.createElement("col",{style:{width:"100px"}}),c.a.createElement("col",{style:{width:"150px"}}),c.a.createElement("col",{style:{width:"130px"}})),c.a.createElement("thead",{className:T.a.thead},c.a.createElement("tr",null,c.a.createElement("th",null,"Torrent ID"),c.a.createElement("th",null,"File Name"),c.a.createElement("th",null,"File Size"),c.a.createElement("th",null,"Uploader"),c.a.createElement("th",null,"Upload Date"))),c.a.createElement("tbody",null,a.map((function(e){return c.a.createElement("tr",{key:e.id||e.hash},c.a.createElement("td",null,e.id),c.a.createElement("td",null,c.a.createElement("a",{href:"magnet:?xt=urn:btih:".concat(e.hash,"&dn=").concat(encodeURIComponent(e.name)).concat(t?"tr=http%3a%2f%2fehtracker.org%2f".concat(t,"%2fannounce"):"")},e.name)),c.a.createElement("td",null,e.fsizestr),c.a.createElement("td",null,e.uploader),c.a.createElement("td",null,e.addedstr&&N()("".concat(e.addedstr,"+00:00")).format("YYYY-MM-DD HH:mm")))}))))},K=Object(s.e)((function(e){var a=e.thumb,t=e.category,r=e.uploader,l=e.posted,o=e.expunged,s=e.removed,m=e.replaced,i=e.filesize,u=e.filecount,p=e.title,f=e.title_jpn,v=e.rating,h=e.tags,E=void 0===h?[]:h,b=e.gid,y=e.token,_=e.torrents,O=e.onSearch,k=void 0===O?function(){}:O,j=Object(n.useState)(!1),x=d()(j,2),I=x[0],C=x[1],M=function(){return C(!I)},P={};return E.forEach((function(e){var a=["misc"].concat(e.split(":",2)).slice(-2),t=d()(a,2),n=t[0],c=t[1];P[n]||(P[n]=[]),P[n].push(c)})),c.a.createElement("div",{className:w.a.container},c.a.createElement("div",{className:w.a.coverWrap},c.a.createElement("img",{src:a.replace(/_l\./,"_250."),className:w.a.cover})),c.a.createElement("div",{className:w.a.meta},c.a.createElement("div",{className:w.a.metaSingleItem},c.a.createElement("div",{className:w.a.category,style:{background:g[t].color},onClick:function(){return k({category:g[t].value})}},t)),c.a.createElement("div",{className:w.a.metaSingleItem},c.a.createElement("a",{onClick:function(e){return k({keyword:"uploader:".concat(/\s/.test(r)?'"'.concat(r,'$"'):"".concat(r,"$"))},{append:e.ctrlKey})}},r)),c.a.createElement("div",{className:w.a.metaItem},c.a.createElement("span",{className:w.a.metaLabel},"Gallery ID:"),c.a.createElement("span",{className:w.a.metaValue},c.a.createElement("a",{title:"Search galleries belongs to the ID",onClick:function(e){e.ctrlKey?(e.preventDefault(),e.stopPropagation(),window.open("https://e".concat(e.altKey?"x":"-","hentai.org/g/").concat(b,"/").concat(y,"/"),"_blank","noreferrer")):k({keyword:"gid:".concat(b,"$")},{append:e.ctrlKey})}},b))),c.a.createElement("div",{className:w.a.metaItem},c.a.createElement("span",{className:w.a.metaLabel},"Token:"),c.a.createElement("span",{className:w.a.metaValue},y)),c.a.createElement("div",{className:w.a.metaItem},c.a.createElement("span",{className:w.a.metaLabel},"Posted:"),c.a.createElement("span",{className:w.a.metaValue},N()(1e3*l).format("YYYY-MM-DD HH:mm:ss"))),c.a.createElement("div",{className:w.a.metaItem},c.a.createElement("span",{className:w.a.metaLabel},"Visible:"),c.a.createElement("span",{className:w.a.metaValue},o?"No (Expunged)":s?"No (Removed)":m?"No (Replaced)":"private"===t.toLowerCase()?"No (Private)":"Yes")),c.a.createElement("div",{className:w.a.metaItem},c.a.createElement("span",{className:w.a.metaLabel},"File Size:"),c.a.createElement("span",{className:w.a.metaValue},S(i))),c.a.createElement("div",{className:w.a.metaItem},c.a.createElement("span",{className:w.a.metaLabel},"File Length:"),c.a.createElement("span",{className:w.a.metaValue},u," ",u>1?"pages":"page")),c.a.createElement("div",{className:w.a.metaItem},c.a.createElement("span",{className:w.a.metaLabel},"Torrents:"),c.a.createElement("span",{className:w.a.metaValue},c.a.createElement("a",{className:w.a.torrentLink,onClick:_.length?M:null,disabled:!_.length},_.length))),c.a.createElement("div",{className:w.a.metaItem},c.a.createElement("span",{className:w.a.metaLabel},"Rating:"),c.a.createElement("span",{className:w.a.metaValue},c.a.createElement(L,{value:v}),v))),c.a.createElement("div",{className:w.a.main},c.a.createElement("div",{className:w.a.header},c.a.createElement("h2",{className:w.a.title},V(p)),c.a.createElement("h3",{className:w.a.subtitle},V(f))),c.a.createElement("div",{className:w.a.tags},Object.entries(P).map((function(e){var a=d()(e,2),t=a[0],n=a[1];return c.a.createElement("div",{className:w.a.tagLine,key:t},c.a.createElement("div",{className:w.a.tagType},t,":"),c.a.createElement("div",{className:w.a.tagList},n.map((function(e){return c.a.createElement("a",{key:e,onClick:function(a){return k({keyword:"".concat("misc"===t?"":"".concat(t,":")).concat(/\s/.test(e)?'"'.concat(e,'$"'):"".concat(e,"$"))},{append:a.ctrlKey})}},e)}))))})))),c.a.createElement(A,{visible:I,onClose:M},c.a.createElement(R,{torrents:_,gid:b})))})),B=t(103),F=t.n(B),U=function(e){var a=e.list,t=void 0===a?[]:a,n=e.loading,r=void 0!==n&&n,l=e.onSearch;return c.a.createElement("div",{className:[F.a.container,r?F.a.loading:""].join(" ").trim()},t.map((function(e){return c.a.createElement("div",{className:F.a.item,key:e.gid},c.a.createElement(K,j()({},e,{onSearch:l})))})))},W=t(137),G=t.n(W),q=t(194),$=t.n(q),z=t(62),Z=t.n(z),J=function(e){var a,t=e.page,n=e.total,r=e.onChange,l=t-1,o=t+1;if(t<=4)a=new Array(Math.min(7,n)).fill("").map((function(e,a){return a+1})),n>7&&(n>8&&a.push("..."),a.push(n));else if(t>=n-3){var s=n-6;a=new Array(Math.min(7,n)).fill("").map((function(e,a){return n-a})).reverse(),s>1&&(s>2&&a.unshift("..."),a.unshift(1))}else a=[1,"..."].concat($()(new Array(5).fill("").map((function(e,a){return t-2+a}))),["...",n]);return c.a.createElement("div",{className:Z.a.container},c.a.createElement("a",{className:1===t?Z.a.disabled:"",onClick:function(){return r(l)}},"<"),a.map((function(e,a){return c.a.createElement("a",{className:[e===t?Z.a.active:"",e===t?Z.a.disabled:""].join(" "),disabled:e===t,onClick:function(){return r("..."===e?Math.min(Math.max(1,prompt("Jump to: (1-".concat(n,")"))||t),n):e)},key:a},e)})),c.a.createElement("a",{className:t===n?Z.a.disabled:"",onClick:function(){return r(o)}},">"))};function X(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function Q(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?X(Object(t),!0).forEach((function(a){i()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):X(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var ee=function(e){var a=e.history,t=Object(n.useState)([]),r=d()(t,2),l=r[0],o=r[1],s=Object(n.useState)(!1),m=d()(s,2),i=m[0],u=m[1],p=Object(n.useState)(null),v=d()(p,2),g=v[0],h=v[1],E=Object(n.useRef)(),b=Object(n.useRef)(),y=f.a.parse(a.location.search.substr(1)),N=y.page,_=void 0===N?1:N,k=y.limit,j=void 0===k?10:k,S=Math.ceil(g/j),x=function(e){var t=Object.keys(e).sort().reduce((function(a,t){return e[t]&&(a[t]=e[t]),a}),{});a.push("/?".concat(f.a.stringify(t)))},w=function(e){x(Q(Q({},y),{},{page:e}))};return Object(n.useEffect)((function(){u(!0),E.current&&E.current.abort();var e=new AbortController;E.current=e;var t=e.signal;fetch("/api/search".concat(a.location.search),{signal:t}).then((function(e){return e.json()})).then((function(e){var a=e.data,t=e.total,n=e.code,c=e.message;E.current=null,u(!1),200===n?(o(a),h(t),b.current&&b.current.scrollIntoView({behavior:"smooth",block:"nearest"})):alert("Request error: "+(c||"unknown"))})).catch((function(e){"AbortError"!==e.name&&(E.current=null,u(!1),alert("Request error: "+((e||{}).message||"unknown")))}))}),[a.location]),c.a.createElement("div",{className:G.a.container},c.a.createElement(O,{options:y,search:a.location.search,onSearch:x}),c.a.createElement("p",{className:G.a.total,ref:b},i?"Loading...":"Matches ".concat(g," ").concat(g>1?"results":"result",".")),l.length?c.a.createElement(c.a.Fragment,null,c.a.createElement(J,{page:+_,total:S,onChange:w}),c.a.createElement(U,{list:l,loading:i,onSearch:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=a.append,n=Q({},y);delete n.page,Object.keys(e).forEach((function(a){t?("keyword"===a&&e[a].startsWith("uploader:")&&n[a]&&(n[a]=n[a].replace(/\s*uploader:(?:"[\s\S]+?\$"|.+?\$)/,"")),n[a]=[n[a],e[a]].filter((function(e){return e})).join(" ")):n[a]=e[a]}),{}),x(n)}}),c.a.createElement(J,{page:+_,total:S,onChange:w})):null)},ae=function(){return c.a.createElement(o.a,null,c.a.createElement(s.a,{location:"/",component:ee}))};l.a.render(c.a.createElement(ae,null),document.getElementById("root"))},62:function(e,a,t){e.exports={container:"_36VbAFYV",disabled:"_2rZBK32t",active:"_5BjRpu6n"}}});